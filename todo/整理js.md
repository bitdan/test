



0401 

tj.js  --1、提交申请





如果    [ 信用证模式]  等于一对多,  [单号]等于 "0000"

如果不等于一对多 ,单号为空

0402

来源流程隐藏

排单详情点击, 获取来源流程



0602 

发起申请， 直接上级， 分管总监节点



任务分值合计栏:70分，不等于70分不能提交， 弹窗提示“任务分值合计不等于70分”

自评评分，上级评分，总监评分单项分值不超过具体任务单向自定义分值， 超过提示“自评评分xxx超过该项任务定义分值”

文化融入项单项分值不能超过4分， 超过提示“文化融入xxxx项超过单项分值4分”



0604 

tj.js    --1、提交申请

根据工号获取入职日期，

调入部门改变 清空 调入岗位，



hr.js                --8、人事对接SAP

人事范围等于"CN00"

部门文本=调入部门

部门编码=调入部门编码

调动日期=拟调岗日期



0622

tj.js --1、申请人发起

机票费用类型必须选一个



- [ ] xz.js  还没弄完

会计-公司代码= CN01

币种=CNY

会计参照=流程编号

会计-凭证类型=ZO

会计-凭证抬头文本=[申请人]+报销+[家属姓名]+机票费用([订票/改机/退票])



0624 

index1.js      --数据填报    无效



0625

- [ ] 这一个是绩效

0629

tj.js                   --1、流程创建

根据工号获取入职日期, 

试岗期开始月份, 试岗期截止月份  点击获取年月

执行生效月份=试岗期开始月份

检查数据 , 试岗期开始月份<= 试岗期截止月份



DatePicker.js    --2、陶瓷厂MD

用来计算日期



0630 

tj.js        --1、HRBP发起人显示

根据工号查入职日期

如果调整内容=空,  **试岗期和晋级评估**  和  **调整明细**  隐藏

如果调整内容=职级,  **试岗期和晋级评估** 显示内容必填, **调整明细**   隐藏

如果调整内容=薪酬,  **试岗期和晋级评估** 隐藏, **调整明细**   显示内容必填

如果调整内容=薪酬及职级,  **试岗期和晋级评估**和**调整明细**  都显示, 内容必填



0634 

- [ ] 又是考评

0635

tj.js

根据工号获取入职日期

0637

zz_index0.js  --创建显示

- [ ] 绩效

0715 

ycd02.js        --申请人显示

- [ ] 未处理

0725

tj.js                --1、发起显示

获取类型编码, 切换类型时清空目的地, 里程数, 金额

设置  【目的地 里程数 英文金额】 只读

如果类型为配送时，目的地和里程数可填写，否则，不能填写

当合计付款本币发生变化时，英文金额跟着改变

当 初始化明细时【 运单号 】仅允许输入字母、数字和单破折号(-)，多运单号必须用分号(;)隔开 ，否则弹出此提示



如果运输类型=配送或者调拨，

​	如果运单号不为空时，sunda/xy/commom/opt.jsp 请求赋值报销次数和报销单号，

​	否则报销次数=0，

如果运输类型=转储，就按交货单赋值报销次数和报销单号



监听明细变化

当 初始化明细时【 运单号 】仅允许输入字母、数字和单破折号(-)，多运单号必须用分号(;)隔开 ，否则弹出此提示

当 【SAP交货单号和费用承担部门】变化时 

隐藏报销次数



提交时， 和初始化一样检查明细， 将明细【费用承担部门】去重添加到【协助确认费用部门】

如果运输类型=配送或者调拨，提示 运单号必填! \n\r Waybill number is required! 

如果运输类型=转储或者空，提示 SAP交货单必填! \n\r SAP Delivery order required!"

如果报销次数为空，提示 无法校验重复报销次数! \n\r The number of repeated reimbursement cannot be verified!"

检查运输类型=配送或者调拨的重复运单号

检查运输类型=转储的重复运单号





kj.js                --5、会计显示

设置凭证类型=ZO

参照=编号

如果分公司包含 【加纳】，公司代码=GH01，公司代码名称=Sunda (GH) Investment

如果分公司包含【加纳】&&分点包含【洗衣粉】，公司代码=GF01，公司代码名称=Sunda (GF02) Investment

如果分公司包含【加纳】&&分点包【五金】，公司代码=GF02，公司代码名称=Sunda (GF02) Investment

如果分公司包含【加纳】&&分点包含【房地产】，公司代码=RE01，公司代码名称=Realestate company Ltd

如果分公司包含【加纳】&&分点包含【Homepro】，公司代码=GH02，公司代码名称=Homepro company Ltd

如果分公司包含【肯尼亚】&&分点包含【瓷】，公司代码=KF01，公司代码名称=KENYA FACTORY

如果分公司包含【肯尼亚】，公司代码=KE01，公司代码名称=Sunda (KE) Investment

如果分公司包含【坦桑】&&分点包含【KEDS】，公司代码=TF01，公司代码名称=Tanzania KEDS Factory

如果分公司包含【坦桑】&&分点包含【瓷】，公司代码=TF02，公司代码名称=Twyford Tile (TZ) Factory

如果分公司包含【坦桑】，公司代码=TZ01，公司代码名称=SUNDA (TZ)INVESTMENT

如果分公司包含【秘鲁】，公司代码=PE01，公司代码名称=SUNDA (PE)INVESTMENT

如果分公司包含【哥伦比亚】，公司代码=CO01，公司代码名称=SUNDA (CO)INVESTMENT



借方

借方记账码=40，

如果配送类型=配送， 借方行项目文本=姓名前五位字符+报配送+运单号

如果配送类型=转储， 借方行项目文本=姓名前五位字符+报转储+运单号

否则 ， 借方行项目文本=姓名前五位字符+报调拨+运单号

借方金额=申报金额

如果配送类型=配送&&费用承担方=  或者配送类型=调拨，科目编码=6601340000，科目描述=营业费用_运输费

否则科目编码=客户编码，科目描述=客户描述

如果归属部门id不为空，成本中心编号=所在部门

贷方：

如果过账行数大于1行， 记账码=50，

如果明细有冲减，记账码=35，金额=申报金额



提交时，检查借贷方金额是否相等, 币种是否匹配



0726

tj.js                --1、提交申请显示

获取类型编码, 切换类型时清空目的地, 里程数, 金额

设置  【目的地 里程数 英文金额】 只读

如果类型为配送时，目的地和里程数可填写，否则，不能填写

当合计付款本币发生变化时，取英文大写

当 初始化明细时【 运单号 】仅允许输入字母、数字和单破折号(-)，多运单号必须用分号(;)隔开 ，否则弹出此提示



如果运输类型=配送或者调拨，

​	如果运单号不为空时，sunda/xy/commom/opt.jsp 请求赋值报销次数和报销单号和已报销总数量，

​	否则报销次数=0，赋值报销次数和报销单号和已报销总数量，

如果运输类型=转储，就按交货单赋值报销次数和报销单号和已报销总数量



监听明细变化

当 初始化明细时【 运单号 】仅允许输入字母、数字和单破折号(-)，多运单号必须用分号(;)隔开 ，否则弹出此提示

当 【SAP交货单号和费用承担部门】变化时 

隐藏报销次数



提交时， 和初始化一样检查明细， 将明细【费用承担部门】去重添加到【协助确认费用部门】

如果运输类型=配送或者调拨且 运单号为空 且 不是税金 时 ，提示 运单号必填! \n\r Waybill number is required! 

如果运输类型=转储或者空且 不是税金，提示 SAP交货单必填! \n\r SAP Delivery order required!"

如果报销次数为空，提示 无法校验重复报销次数! \n\r The number of repeated reimbursement cannot be verified!"

如果运输类型=配送并且供应商名称为空，提示 客户/供应商名称必填! \n\r Receiving customer  is required!

检查运输类型=配送或者调拨的重复运单号

检查运输类型=转储的重复运单号



kj.js                --6、会计过账SAP显示

设置凭证类型=ZO

参照=编号

如果分公司包含 【加纳】，公司代码=GH01，公司代码名称=Sunda (GH) Investment

如果分公司包含【加纳】&&分点包含【洗衣粉】，公司代码=GF01，公司代码名称=Sunda (GF02) Investment

如果分公司包含【加纳】&&分点包【五金】，公司代码=GF02，公司代码名称=Sunda (GF02) Investment

如果分公司包含【加纳】&&分点包含【房地产】，公司代码=RE01，公司代码名称=Realestate company Ltd

如果分公司包含【加纳】&&分点包含【Homepro】，公司代码=GH02，公司代码名称=Homepro company Ltd

如果分公司包含【肯尼亚】&&分点包含【瓷】，公司代码=KF01，公司代码名称=KENYA FACTORY

如果分公司包含【肯尼亚】，公司代码=KE01，公司代码名称=Sunda (KE) Investment

如果分公司包含【坦桑】&&分点包含【KEDS】，公司代码=TF01，公司代码名称=Tanzania KEDS Factory

如果分公司包含【坦桑】&&分点包含【瓷】，公司代码=TF02，公司代码名称=Twyford Tile (TZ) Factory

如果分公司包含【坦桑】，公司代码=TZ01，公司代码名称=SUNDA (TZ)INVESTMENT

如果分公司包含【秘鲁】，公司代码=PE01，公司代码名称=SUNDA (PE)INVESTMENT

如果分公司包含【哥伦比亚】，公司代码=CO01，公司代码名称=SUNDA (CO)INVESTMENT

如果分公司包含【总部】，公司代码=CN01，公司代码名称=广州市森大贸易有限公司



借方

借方记账码=40，

如果配送类型=配送， 借方行项目文本=姓名前五位字符+报配送+运单号

如果配送类型=转储， 借方行项目文本=姓名前五位字符+报转储+运单号

如果配送类型=调拨， 借方行项目文本=姓名前五位字符+报调拨+运单号

借方金额=申报金额

如果配送类型=配送&&费用承担方=  或者配送类型=调拨，科目编码=6601340000，科目描述=营业费用_运输费

否则科目编码=客户编码，科目描述=客户描述

如果归属部门id不为空，成本中心编号=所在部门



贷方：

如果过账行数大于1行， 记账码=50，抬头文本=贷方行项目文本

如果明细有冲减，记账码=35，金额=申报金额



如果类型=转储，原因代码编号=11，原因代码名称=购买商品、接受劳务支付的现金

否则 代码编号=15 ，原因代码名称=支付的其他与经营活动有关的现金



提交时，检查借贷方金额是否相等, 币种是否匹配







